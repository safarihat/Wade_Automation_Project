{% extends 'wade_automation/base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<main style="max-width: 1100px; margin: 0 auto; padding: 20px;">
  <h1 style="margin-bottom: 10px;">Your Dashboard</h1>
  <p style="margin: 0 0 24px; color: #555;">Manage your installed modules. As you purchase additional modules, they will appear here.</p>

  <section>
    <h2 style="font-size: 1.2rem; margin: 0 0 12px;">Installed Modules</h2>

    {% if installed_modules %}
      <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 16px;">
        {% for mod in installed_modules %}
          <div style="background: #fff; border: 1px solid #e6e6e6; border-radius: 8px; padding: 16px; box-shadow: 0 1px 2px rgba(0,0,0,0.04);">
            <div style="display:flex; align-items:center; gap:10px;">
              {% if mod.icon %}
                <img src="{{ mod.icon }}" alt="{{ mod.name }} icon" style="height:28px; width:auto;"/>
              {% endif %}
              <h3 style="margin:0; font-size: 1.05rem;">{{ mod.name }}</h3>
            </div>
            {% if mod.description %}
              <p style="margin:10px 0 14px; color:#666; font-size: 0.95rem;">{{ mod.description }}</p>
            {% endif %}
            {% if mod.url %}
              <a href="{{ mod.url }}" style="display:inline-block; padding:8px 12px; background:#0a0a23; color:#fff; border-radius:4px; text-decoration:none;">Open</a>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div style="background:#fff; border:1px dashed #cfcfcf; border-radius:8px; padding:24px; text-align:center;">
        <p style="margin:0 0 12px;">No modules installed yet.</p>
        <a href="{% url 'invoices:invoice_dashboard' %}" style="display:inline-block; padding:8px 12px; background:#0a0a23; color:#fff; border-radius:4px; text-decoration:none;">Try Invoice Reconciliation</a>
      </div>
    {% endif %}
  </section>

  <section style="margin-top: 28px;">
    <h2 style="font-size: 1.2rem; margin: 0 0 12px;">Explore Modules</h2>
    <div style="background:#fff; border:1px solid #e6e6e6; border-radius:8px; padding:16px;">
      <p style="margin:0; color:#666;">More modules will be available soon. Purchased modules will automatically appear in your Installed Modules above.</p>
    </div>
  </section>
</main>
{% endblock %}